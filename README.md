# Unity_VisionPro_SwiftUI
Intergrate SwiftUI into Unity. Using Attachments in RealityView.
> https://developer.apple.com/documentation/realitykit/realityviewattachments

# Feature
* You can intergate SwiftUI into Unity.
* There are two mode of intergated SwiftUI View.
  * Inject SwiftUI view into Unity's 3D scene. So **you can set the position/rotation** of the SwiftUI view as you want. 
  * Independent SwiftUI Window. (Same as the Polyspatial demo.)
    > https://docs.unity3d.com/Packages/com.unity.polyspatial.visionos@1.1/manual/InteropWithSwiftUI.html


## How to start
* Build the Unity project to XCode project.
* Open `UnityVisionOSSettings.swift`
* Modify it as fllow:
  ```
  // GENERATED BY BUILD
  import Foundation
  import SwiftUI
  import PolySpatialRealityKit
  import UnityFramework

  //Add import RealityKit. Otherwise the app will crash.(Still don't know the reason)
  import RealityKit 

  let unityStartInBatchMode = true

  ......

  @SceneBuilder
    var mainScenePart0: some Scene {

                    ImmersiveSpace(id: "Unbounded", for: UUID.self) { uuid in
                        PolySpatialContentViewWrapper(minSize: .init(1.000, 1.000, 1.000), maxSize: .init(1.000, 1.000, 1.000))
                            ...
                            }

                        //Add the InjectRealityView here
                        InjectRealityView()
  
                        KeyboardTextField().frame(width: 0, height: 0).modifier(LifeCycleHandlerModifier())
                    } defaultValue: { UUID() }  ...
  
                    WindowGroup(id: "Bounded-1.000x1.000x1.000", for: UUID.self) { uuid in
                        ...
                    } defaultValue: { UUID() } ...
        SwiftUISampleInjectedScene.scene
        WindowGroup(id: "LoadingWindow") {
            Text("Loading...")
        }.defaultSize(width: 0.2, height: 0.15)
    }
  

  ```


